:root{
  --bg:#0b0b0c; --hud:#0d0e12; --card:#15161a; --ink:#f3f6f9; --muted:#b6bdc6;
  --line:#262a31; --accent:#ffd24d; --ok:#27ae60; --warn:#e67e22; --danger:#c0392b;
  --backdrop: rgba(0,0,0,.55);
}
html,body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}

/* Sticky HUD */
.hud-wrap{position:sticky;top:0;z-index:50;background:var(--hud);border-bottom:1px solid #1c1f25}
header{display:flex;flex-wrap:wrap;gap:12px;align-items:center;padding:10px 10px 6px}
.totals h1{margin:0;font-size:26px;font-weight:800;letter-spacing:.2px}
.stats{display:flex;gap:8px;flex-wrap:wrap}
.pill{display:inline-block;padding:6px 10px;border-radius:99px;background:#1a1d23;border:1px solid #262a31;color:#dfe3e8;font-size:12px}
.hud-rows{display:flex;gap:8px;flex-wrap:wrap;padding:6px 10px 10px;border-top:1px solid #16181d}
.hud-rows button,.hud-rows .chip{
  padding:8px 10px;border-radius:10px;border:1px solid #2b2e35;background:#171a20;color:#e9edf2;font-weight:600;font-size:13px;cursor:pointer
}
.chip.active{outline:2px solid #3a3f48}
.tabbar{display:flex;gap:8px;margin-left:auto}
.tabbar button{background:#151920;border:1px solid #28303a;cursor:pointer}
.tabbar .active{background:#1b2027;border-color:#384352}

/* Category bar (NEU) */
.catbar{
  position:sticky; top:98px; z-index:40;
  display:flex; gap:8px; flex-wrap:wrap;
  background:#0d0e12; padding:8px 10px; border-bottom:1px solid #1c1f25;
}
.catbar .tab{
  padding:8px 12px; border-radius:999px; cursor:pointer;
  background:#151920; border:1px solid #28303a; color:#e9edf2; font-weight:700; font-size:13px;
}
.catbar .tab.active{ background:#1b2027; border-color:#384352 }

.wrap{padding:12px}

/* Grid (4 Spalten) */
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
@media (max-width:860px){ .grid{grid-template-columns:repeat(3,1fr);} }
@media (max-width:600px){ .grid{grid-template-columns:repeat(2,1fr);} }
button.item{
  aspect-ratio:1/1;border-radius:12px;border:1px solid var(--line);background:var(--card);
  color:#ecf0f1;padding:10px;text-align:left;position:relative;overflow:hidden;cursor:pointer
}
button.item:active{transform:scale(.98)}
.name{font-weight:800;font-size:15px;margin-bottom:6px}
.price{font-size:12px;color:var(--muted)}
.badge{position:absolute;right:8px;bottom:8px;background:#21242a;border:1px solid #2e323a;padding:2px 8px;border-radius:8px;font-size:12px;color:#c9d1d9}

.toolbar{display:flex;gap:8px;flex-wrap:wrap}
.toolbar .danger{background:#23181a;border-color:#3b1f23;color:#ffd6dc}
.toolbar .ghost{background:#1a2023;border-color:#223136}
.toolbar .ok{background:#17261c;border-color:#25452e;color:#bfe8c8}
.toolbar .disc{background:#1e1a12;border-color:#3b341f;color:#ffe9ad}

.note-box{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.note-box input{flex:1;min-width:180px;background:#101319;border:1px solid #28303a;color:#e6ebf0;border-radius:10px;padding:10px}
.quick{display:flex;gap:6px;flex-wrap:wrap}
.quick .chip{background:#131720;border-color:#2a3240}

/* Panels & rows */
.panel{margin-top:12px;background:#111319;border:1px solid #22252b;border-radius:10px;overflow:hidden}
.panel h3{margin:10px;font-size:14px;color:var(--muted);font-weight:700}
.rows .row{display:flex;align-items:center;gap:10px;justify-content:space-between;padding:8px 10px;border-top:1px dashed var(--line)}
.row:first-child{border-top:none}
.row small{color:#9aa3ad}
.row .left{display:flex;align-items:center;gap:8px}
.row .mini{padding:4px 8px;border-radius:8px;border:1px solid #2e2f37;background:#171a21;color:#e8edf3;cursor:pointer;font-size:12px}
.sumline{display:flex;justify-content:space-between;padding:10px;border-top:1px solid #2a2d33;background:#0e0f13}
.sumline b{font-size:18px}

/* Make / Pay */
.slot-card{border-top:1px solid #242832;padding:10px}
.slot-head{display:flex;gap:10px;align-items:center;justify-content:space-between}
.slot-head .label{font-weight:800}
.todo{margin-top:8px}
.todo .li{display:flex;gap:6px;align-items:center;padding:6px 4px;border-top:1px dashed #2a2f39}
.todo .li:first-child{border-top:none}
.todo input[type=checkbox]{transform:scale(1.2)}
.pay-status button{margin-left:6px}

.hidden{display:none}

/* Modals */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:var(--backdrop);z-index:200}
.modal.open{display:flex}
.sheet{width:min(760px,94vw);max-height:90vh;overflow:auto;background:#101217;border:1px solid #2a2f38;border-radius:14px}
.sheet header{position:sticky;top:0;background:#0f1217;border-bottom:1px solid #212732;display:flex;justify-content:space-between;align-items:center;padding:10px 12px}
.sheet .body{padding:10px 12px}
.x{border:none;background:#1b1f27;border:1px solid #2d3440;color:#eaeef2;padding:8px 10px;border-radius:10px;cursor:pointer}

/* Print */
@media print{
  .hud-wrap,.wrap > section:not(#printArea){display:none}
  #printArea{display:block}
  body{background:#fff;color:#000}
}
